<div class="w-full h-16 flex items-center border-gray-100 fixed top-10 bg-white">
  <div class="container p-5 w-full mx-auto flex justify-between items-center">
    <%= link_to '/', class: "text-red-600 font-bold text-xl flex gap-2" do %>
      <%= image_tag 'logo-nav.png', class: "w-8 object-cover" %>
      <span class="mt-auto"> AirBnB </span>
    <% end %>
    <div class="flex items-center gap-4">
      <% if !current_user %>
        <%= link_to 'Sign in', new_user_session_path, class: "rounded-lg border-2 border-gray-100 font-semibold p-2" %>
        <%= link_to 'Create account', new_user_registration_path, 
        class: "rounded-lg border-2 font-semibold p-2 bg-gradient-to-r from-indigo-500 to-pink-500 text-pink-100" %>
      <% else %>
        <%= link_to "New listing", new_listing_path, class: "rounded-full border-2 font-semibold p-2 
                                                            bg-gradient-to-r from-indigo-500 to-pink-500 text-pink-100" %>
        <div class="relative" data-controller="dropdown" data-action="click@window->dropdown#closeUnlessDropdown">
          <a href="#" class="border-2 border-gray-100 rounded-full h-12 w-12 flex items-center justify-center overflow-hidden" 
            data-action="click->dropdown#toggle">
            
            <% if current_user.profile_picture.attached? %>
              <%= image_tag(current_user.profile_picture, class: "w-full h-full object-cover") %>
            <% else %>
              <i class="fa-solid fa-user"></i>
            <% end %>
          </a>

          <div class="absolute top-12 -left-24 w-40 h-64 bg-white border-2 border-gray-200 rounded-lg 
            hidden flex flex-col items-center gap-4 p-2 transition-all duration-400"
            data-dropdown-target="menu">
            <%= link_to 'Settings', settings_path %>
            <%= link_to 'Sign out', destroy_user_session_path, data: { turbo_method: :delete }%>
          </div>
        </div>
      <% end %>
      
    </div> 
  </div>
</div>